

<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title><%= pageTitle %></title>
    <!-- --------------------------------------------------------- -->
    <link rel="icon" href="img/logo.svg" type="svg+xml">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <base href="/" target="_blank"> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- [ styles ] 
    ==================================================== -->
    <link rel="stylesheet" href="stylesheets/globals/global.css">
    <link rel="stylesheet" href="stylesheets/globals/swiper-bundle.min.css">
    <link rel="stylesheet" href="stylesheets/home/home.css">
    <!-- [ scripts ] 
    ==================================================== -->
    <script src="js/globals/swiper-bundle.min.js"></script>
    <script src="js/globals/global.js" defer></script>
    <script src="js/home/home.js" defer></script>
    <style>
        hover-btn {
            display: grid;
            place-items: center;
            width: 63px;
            aspect-ratio: 1 / 1;
            position: absolute;
            inset: 2rem .5rem 0 auto;
            border-radius: 5rem;
            background: #920c;
            color: #f5f5f5;
            filter: drop-shadow( #0005 0 0 5px );
        }
        hover-btn btn {
            border: transparent;
            outline: transparent;
            background: transparent;
            color: #f5f5f5;
            font-size: 1rem;
        }

    </style>
</head>
<body>
        
    <%- include( "includes/appbar.ejs" ) %>
    <!-- <page-header></page-header> -->

    <main>
        <!-- [ highlights section ]
        ========================================================= -->
        <article class="highlights">
            <header>
                <title-pk title-pk="<%= (admin) ? 'Admin Products Page' : 'Products' %>" color="var(--cp05)"></title-pk>
            </header>
            <% if( products.length ) { %>
            <slider-spot>
                <slider class="swiper" slider-heighlights>
                    <slider-modules class="swiper-wrapper">
                        <% for( let product of products ) { %>

                            <slide class="swiper-slide">
                                <card-pk
                                    name="<%= product.title %>" 
                                    desc="<%= product.description %>"
                                    real="<%= product.price %>" 
                                    cents="<%= product.cents %>"
                                    src="<%= product.cover %>" 
                                    alt=""
                                    <% if( admin ) { %>
                                        btn="Editar"
                                        url="/admin/edit-product/<%= product.id %>"
                                    ></card-pk>
                                    <hover-btn>
                                        <!-- <a btn href="/admin/edit-product/<%= product.id %>" title="<%= product.id %>" btn>Edit</a> -->
                                        <form action="/admin/delete" method="post">
                                            <input type="hidden" name="productId" value="<%= product.id %>">
                                            <button>Deletar</button>
                                        </form>
                                    </hover-btn>
                                    <% } else { %>
                                        btn="Ver detalhes"
                                        url="/admin/edit-product/<%= product.id %>"
                                    ></card-pk>
                                    <% } %>
                            </slide>
                            <% } %>


                    </slider-modules>
                    <div class="swiper-pagination"></div>
                </slider>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </slider-spot>
            <center-btn>
                <button-pk name="Ver mais" color="" width="50%"></button-pk>
            </center-btn>
            <% } %>
        </article>

    </main>
        
    <%- include( "includes/footer.ejs" ) %>
    <!-- <page-footer></page-footer> -->
    
    
    <script>
        /* [ swiperjs ]
            ============================================================== */
        /*  https://swiperjs.com/get-started
            https://www.jsdelivr.com/package/npm/swiper
            https://swiperjs.com/demos
        */
        var swiper = new Swiper( "*[slider-heighlights]", {
            slidesPerView: 4,
            spaceBetween: 25,
            loop: true,
            centerSlide: "true",
            fade: "true",
            grabCursor: "true",
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
                dynamicBullets: true,
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        
            breakpoints:{
                0: { slidesPerView: 1, },
                520: { slidesPerView: 2, },
                830: { slidesPerView: 3, },
                950: { slidesPerView: 3, },
                1120: { slidesPerView: 4, },
            },
        } );

        var swiper = new Swiper( "*[slider-0-1anos]", {
            slidesPerView: 4,
            spaceBetween: 25,
            loop: true,
            centerSlide: "true",
            fade: "true",
            grabCursor: "true",
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
                dynamicBullets: true,
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        
            breakpoints:{
                0: { slidesPerView: 1, },
                520: { slidesPerView: 2, },
                830: { slidesPerView: 3, },
                950: { slidesPerView: 3, },
                1120: { slidesPerView: 4, },
            },
        } );

        var swiper = new Swiper( "*[slider-2-3anos]", {
            slidesPerView: 4,
            spaceBetween: 25,
            loop: true,
            centerSlide: "true",
            fade: "true",
            grabCursor: "true",
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
                dynamicBullets: true,
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
        
            breakpoints:{
                0: { slidesPerView: 1, },
                520: { slidesPerView: 2, },
                830: { slidesPerView: 3, },
                950: { slidesPerView: 3, },
                1120: { slidesPerView: 4, },
            },
        } );

    </script>
</body>
</html>


